{"ast":null,"code":"\"use strict\";\n\n// tslint:disable restrict-plus-operands\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nconst chalk = require(\"chalk\");\nconst supportsColor = require(\"supports-color\");\nconst deps_1 = require(\"../deps\");\nconst base_1 = require(\"./base\");\n/* eslint-disable-next-line node/no-missing-require */\nconst spinners = require('./spinners');\nfunction color(s) {\n  if (!supportsColor) return s;\n  const has256 = supportsColor.stdout ? supportsColor.stdout.has256 : (process.env.TERM || '').includes('256');\n  return has256 ? `\\u001B[38;5;104m${s}${deps_1.default.ansiStyles.reset.open}` : chalk.magenta(s);\n}\nclass SpinnerAction extends base_1.ActionBase {\n  constructor() {\n    super();\n    this.type = 'spinner';\n    this.frames = spinners[process.platform === 'win32' ? 'line' : 'dots2'].frames;\n    this.frameIndex = 0;\n  }\n  _start() {\n    this._reset();\n    if (this.spinner) clearInterval(this.spinner);\n    this._render();\n    this.spinner = setInterval(icon => this._render.bind(this)(icon), process.platform === 'win32' ? 500 : 100, 'spinner');\n    const interval = this.spinner;\n    interval.unref();\n  }\n  _stop(status) {\n    if (this.task) this.task.status = status;\n    if (this.spinner) clearInterval(this.spinner);\n    this._render();\n    this.output = undefined;\n  }\n  _pause(icon) {\n    if (this.spinner) clearInterval(this.spinner);\n    this._reset();\n    if (icon) this._render(` ${icon}`);\n    this.output = undefined;\n  }\n  _frame() {\n    const frame = this.frames[this.frameIndex];\n    this.frameIndex = ++this.frameIndex % this.frames.length;\n    return color(frame);\n  }\n  _render(icon) {\n    const task = this.task;\n    if (!task) return;\n    this._reset();\n    this._flushStdout();\n    const frame = icon === 'spinner' ? ` ${this._frame()}` : icon || '';\n    const status = task.status ? ` ${task.status}` : '';\n    this.output = `${task.action}...${frame}${status}\\n`;\n    this._write(this.std, this.output);\n  }\n  _reset() {\n    if (!this.output) return;\n    const lines = this._lines(this.output);\n    this._write(this.std, deps_1.default.ansiEscapes.cursorLeft + deps_1.default.ansiEscapes.cursorUp(lines) + deps_1.default.ansiEscapes.eraseDown);\n    this.output = undefined;\n  }\n  _lines(s) {\n    return deps_1.default.stripAnsi(s).split('\\n').map(l => Math.ceil(l.length / deps_1.default.screen.errtermwidth)).reduce((c, i) => c + i, 0);\n  }\n}\nexports.default = SpinnerAction;","map":{"version":3,"names":["Object","defineProperty","exports","value","chalk","require","supportsColor","deps_1","base_1","spinners","color","s","has256","stdout","process","env","TERM","includes","default","ansiStyles","reset","open","magenta","SpinnerAction","ActionBase","constructor","type","frames","platform","frameIndex","_start","_reset","spinner","clearInterval","_render","setInterval","icon","bind","interval","unref","_stop","status","task","output","undefined","_pause","_frame","frame","length","_flushStdout","action","_write","std","lines","_lines","ansiEscapes","cursorLeft","cursorUp","eraseDown","stripAnsi","split","map","l","Math","ceil","screen","errtermwidth","reduce","c","i"],"sources":["/Users/wajahatfit/Documents/labs/portfolio/portfolio/node_modules/@oclif/core/lib/cli-ux/action/spinner.js"],"sourcesContent":["\"use strict\";\n// tslint:disable restrict-plus-operands\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst chalk = require(\"chalk\");\nconst supportsColor = require(\"supports-color\");\nconst deps_1 = require(\"../deps\");\nconst base_1 = require(\"./base\");\n/* eslint-disable-next-line node/no-missing-require */\nconst spinners = require('./spinners');\nfunction color(s) {\n    if (!supportsColor)\n        return s;\n    const has256 = supportsColor.stdout ? supportsColor.stdout.has256 : (process.env.TERM || '').includes('256');\n    return has256 ? `\\u001B[38;5;104m${s}${deps_1.default.ansiStyles.reset.open}` : chalk.magenta(s);\n}\nclass SpinnerAction extends base_1.ActionBase {\n    constructor() {\n        super();\n        this.type = 'spinner';\n        this.frames = spinners[process.platform === 'win32' ? 'line' : 'dots2'].frames;\n        this.frameIndex = 0;\n    }\n    _start() {\n        this._reset();\n        if (this.spinner)\n            clearInterval(this.spinner);\n        this._render();\n        this.spinner = setInterval(icon => this._render.bind(this)(icon), process.platform === 'win32' ? 500 : 100, 'spinner');\n        const interval = this.spinner;\n        interval.unref();\n    }\n    _stop(status) {\n        if (this.task)\n            this.task.status = status;\n        if (this.spinner)\n            clearInterval(this.spinner);\n        this._render();\n        this.output = undefined;\n    }\n    _pause(icon) {\n        if (this.spinner)\n            clearInterval(this.spinner);\n        this._reset();\n        if (icon)\n            this._render(` ${icon}`);\n        this.output = undefined;\n    }\n    _frame() {\n        const frame = this.frames[this.frameIndex];\n        this.frameIndex = ++this.frameIndex % this.frames.length;\n        return color(frame);\n    }\n    _render(icon) {\n        const task = this.task;\n        if (!task)\n            return;\n        this._reset();\n        this._flushStdout();\n        const frame = icon === 'spinner' ? ` ${this._frame()}` : icon || '';\n        const status = task.status ? ` ${task.status}` : '';\n        this.output = `${task.action}...${frame}${status}\\n`;\n        this._write(this.std, this.output);\n    }\n    _reset() {\n        if (!this.output)\n            return;\n        const lines = this._lines(this.output);\n        this._write(this.std, deps_1.default.ansiEscapes.cursorLeft + deps_1.default.ansiEscapes.cursorUp(lines) + deps_1.default.ansiEscapes.eraseDown);\n        this.output = undefined;\n    }\n    _lines(s) {\n        return deps_1.default\n            .stripAnsi(s)\n            .split('\\n')\n            .map(l => Math.ceil(l.length / deps_1.default.screen.errtermwidth))\n            .reduce((c, i) => c + i, 0);\n    }\n}\nexports.default = SpinnerAction;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}